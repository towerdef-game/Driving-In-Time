<html>
<head>
<title>Working with Instruments</title>
<link rel="stylesheet" href="style/docs.css">
<link rel="stylesheet" href="style/code_highlight.css">
<script type="text/javascript" src="scripts/language-selector.js"></script></head>
<body>
<div class="docs-body">
<div class="manual-toc">
<p>FMOD Studio User Manual 2.02</p>
<ul>
<li><a href="welcome-to-fmod-studio.html">Welcome to FMOD Studio</a></li>
<li><a href="fmod-studio-concepts.html">FMOD Studio Concepts</a></li>
<li><a href="organizing-the-project.html">Organizing the Project</a></li>
<li><a href="authoring-events.html">Authoring Events</a></li>
<li class="manual-current-chapter manual-active-chapter"><a href="working-with-instruments.html">Working with Instruments</a><ul>
<li><a href="#instrument-types">Instrument Types</a><ul>
<li><a href="#single-instruments">Single Instruments</a></li>
<li><a href="#multi-instruments">Multi Instruments</a></li>
<li><a href="#event-instruments">Event Instruments</a></li>
<li><a href="#scatterer-instruments">Scatterer Instruments</a></li>
<li><a href="#programmer-instruments">Programmer Instruments</a></li>
<li><a href="#command-instruments">Command Instruments</a></li>
<li><a href="#snapshot-instruments">Snapshot Instruments</a></li>
<li><a href="#plug-in-instruments">Plug-in Instruments</a></li>
</ul>
</li>
<li><a href="#synchronous-and-asynchronous-instruments">Synchronous and Asynchronous Instruments</a><ul>
<li><a href="#synchronous-instruments">Synchronous Instruments</a></li>
<li><a href="#asynchronous-instruments">Asynchronous Instruments</a></li>
</ul>
</li>
<li><a href="#looping-instruments">Looping Instruments</a><ul>
<li><a href="#play-count">Play Count</a></li>
<li><a href="#synchronous-and-asynchronous-looping-instruments">Synchronous and Asynchronous Looping Instruments</a></li>
<li><a href="#instrument-properties-and-untrigger-behavior">Instrument Properties and Untrigger Behavior</a></li>
</ul>
</li>
<li><a href="#fade-in-and-fade-out">Fade In and Fade Out</a></li>
<li><a href="#cut-and-modulation">Cut and Modulation</a><ul>
<li><a href="#cut">Cut</a></li>
<li><a href="#ahdsr-modulation">AHDSR Modulation</a></li>
</ul>
</li>
<li><a href="#delay-and-quantization">Delay And Quantization</a><ul>
<li><a href="#time">Time</a></li>
<li><a href="#tempo">Tempo</a></li>
</ul>
</li>
<li><a href="#trigger-conditions">Trigger Conditions</a></li>
</ul>
</li>
<li><a href="managing-assets.html">Managing Assets</a></li>
<li><a href="parameters.html">Parameters</a></li>
<li><a href="getting-events-into-your-game.html">Getting Events into Your Game</a></li>
<li><a href="mixing.html">Mixing</a></li>
<li><a href="the-sandbox.html">The Sandbox</a></li>
<li><a href="editing-during-live-update.html">Editing During Live Update</a></li>
<li><a href="profiling.html">Profiling</a></li>
<li><a href="dialogue-and-localization.html">Dialogue and Localization</a></li>
<li><a href="using-source-control.html">Using Source Control</a></li>
<li><a href="supporting-downloadable-and-user-generated-content.html">Supporting Downloadable and User-generated Content</a></li>
<li><a href="advanced-topics.html">Advanced Topics</a></li>
<li><a href="quick-start-tutorial.html">Quick Start Tutorial</a></li>
<li><a href="event-macro-controls-reference.html">Event Macros Drawer Reference</a></li>
<li><a href="plugin-reference.html">Plug-in Reference</a></li>
<li><a href="modulator-reference.html">Modulator Reference</a></li>
<li><a href="parameters-reference.html">Parameters Reference</a></li>
<li><a href="scripting-terminal-reference.html">Scripting</a></li>
<li><a href="scripting-api-reference.html">Scripting API Reference</a></li>
<li><a href="keyboard-shortcut-reference.html">Keyboard Shortcut Reference</a></li>
<li><a href="troubleshooting.html">Troubleshooting</a></li>
<li><a href="glossary.html">Glossary</a></li>
<li><a href="appendix-a-celeste.html">Appendix: Celeste Getting Started Guide</a></li>
<li><a href="appendix-b-reaper-integration.html">Appendix: Reaper Integration</a></li>
</ul>
</div>
<div class="manual-content studio">
<h1>5. Working with Instruments</h1>
<p>FMOD Studio uses the term <a href="glossary.html#instrument">instrument</a> to describe the variety of trigger regions that can be added to the <a href="glossary.html#track">tracks</a> of an <a href="glossary.html#event">event</a>.</p>
<p>Instruments can be added to any of an event's <span class="dead-link" href="glossary.html#action-sheet">action sheets</span class="dead-link"> or <a href="glossary.html#parameter-sheet">parameter sheets</a>. Instruments on parameter sheets are triggered when the <a href="glossary.html#playback-position">playback position</a> of that parameter overlaps the instrument, whereas instruments on action sheets are triggered when the event begins. Once triggered, an instrument starts the audio, event, <a href="glossary.html#command-instrument">command</a>, or <a href="glossary.html#snapshot">snapshot</a> associated with it.</p>
<p>Instruments on parameter sheets can be edited in bulk by holding the Ctrl modifier key and selecting each instrument you wish to edit. Common properties shared between the instruments are highlighted in gold and editing these properties edits them across all selected instruments. If properties are not common to all selected instruments, such as a <a href="glossary.html#playlist-selection-mode">playlist selection mode</a> when selecting a multi instrument and a single instrument, then these properties are not highlighted.</p>
<h2 id="instrument-types"><a href="#instrument-types">5.1 Instrument Types</a></h2>
<p>There are several instrument types available for FMOD Studio. Each instrument's type is written in its label.</p>
<p>By default, each type of instrument is a different color. The color of an instrument may make it easier to identify at a glance in FMOD Studio, but has no effect on its behavior, and can be changed by right-clicking on an instrument and selecting "Set Color" from the context menu. Changing an instrument's color does not change its type.</p>
<h3 id="single-instruments"><a href="#single-instruments">5.1.1 Single Instruments</a></h3>
<p>Single instruments are the simplest form of instruments in FMOD Studio. When triggered they play a single audio file.</p>
<p>To create a single instrument, either right click on an <a href="glossary.html#audio-track">audio track</a> or <a href="glossary.html#playlist">playlist</a> and select "Add Single Instrument," or drag an <a href="glossary.html#audio-file">audio file</a> onto an audio track or playlist from the <a href="glossary.html#assets-browser">assets browser</a> or a <a href="glossary.html#file-manager">file manager</a> application.</p>
<h3 id="multi-instruments"><a href="#multi-instruments">5.1.2 Multi Instruments</a></h3>
<p>Multi instruments contain <a href="glossary.html#playlist">playlists</a> of single instruments, multi instruments, programmer instruments, and/or event instruments. When triggered they select items to play from their playlists according to the instrument's <a href="glossary.html#playlist-selection-mode">playlist selection mode</a>. Multi instruments are set to <a href="glossary.html#playlist-selection-mode">shuffle playlist selection mode</a> by default, as this is the recommended behavior in most circumstances.</p>
<p>Multi instruments are commonly used to avoid obvious repetition of audio, in order to make game worlds sound less artificial and more realistic.</p>
<p>To create a multi instrument, either right click on an <a href="glossary.html#audio-track">audio track</a> or playlist and select "Add Multi Instrument," or drag a multi-selection of audio files onto an audio track from the assets browser or a file manager application.</p>
<h3 id="event-instruments"><a href="#event-instruments">5.1.3 Event Instruments</a></h3>
<p>Event instruments are instruments that play the output of <a href="organizing-the-project.html#referenced-events">referenced events</a> when triggered. An event that contains an event instrument is called the <span class="dead-link" href="glossary.html#parent-event">parent event</span class="dead-link"> of the referenced event.</p>
<p>The output of an event instrument is routed into the audio track of the parent event that contains that event instrument, not into the mixer.</p>
<p>By default, the <a href="glossary.html#parameter">parameters</a> of a referenced event are included in the parent event, and appear in the transport bar when viewing that parent event. Built-in parameters, and parameters whose "Expose recursively via event instruments" checkboxes are not checked, are not exposed in the parent event. If a referenced event has parameter sheets, controls for those parameters appear in the deck when the event instrument is selected in the parent event.</p>
<p>Setting the value of an exposed parameter in a parent event also sets it in the referenced event, unless the event instrument's parameter control is automated in the parent event (See <a href="glossary.html#parameter-linking">parameter linking</a>). If the parameter control is automated in the parent event, the referenced event's parameter is controlled by the automation.</p>
<p>Unlike other instrument types, an event instrument's volume dial does not affect the instrument's output volume directly. Instead, it sets the value of the <a href="glossary.html#master-track">master track's</a> <span class="dead-link" href="glossary.html#volume-fader">volume fader</span class="dead-link"> in every instance of the referenced event created by that event instrument.</p>
<p>Event instruments allow you to use the same content in multiple parts of your project, and make it possible to use all the features of an event inside an instrument.</p>
<p>Some referenced events are <a href="organizing-the-project.html#nested-events">nested events</a>. Unlike other events, nested events do not appear in the routing browser and cannot be played at <span class="dead-link" href="glossary.html#runtime">runtime</span class="dead-link"> except by playing their parent events. Each nested event is shown under a specific parent event in the <a href="glossary.html#events-browser">events browser</a>, and cannot be referenced in events other than that parent event.</p>
<p>To create an event instrument that references an existing event, drag that event from the <a href="glossary.html#events-browser">events browser</a> onto any audio track of another event. To create an event instrument that references a new nested event, right click on an event's <a href="glossary.html#audio-track">audio track</a> and select "Add Event Instrument".</p>
<h3 id="scatterer-instruments"><a href="#scatterer-instruments">5.1.4 Scatterer Instruments</a></h3>
<p><a href="glossary.html#scatterer-instrument">Scatterer instruments</a> are a special type of instrument that continuously spawn instances of the 2D or 3D instruments in their playlists.</p>
<p>Scatterer instruments spawn instances of instruments in their playlists in a similar manner to <a href="glossary.html#multi-instrument">multi instruments</a>. Unlike multi instruments, however, a scatterer instrument can select and spawn an instrument from its playlist regardless of when the previous one it spawned finishes playing, can randomize the volume and pitch of each spawned instance individually, and can assign a different location to each spawned instance for the purposes of panning and other location-dependent behaviors.</p>
<p>By setting a scatterer instrument's min &amp; max spawn interval ribbon slider, you can define its temporal randomization behavior. A scatterer instrument's min &amp; max spawn interval ribbon slider defines the range of duration that can pass between the start of one playlist entry instance spawned by that scatterer instrument and the start of the next.</p>
<p>Switching the spawn interval's mode to "tempo" only spawns new instances from the playlist on specific notes or bars. The timeline positions of beats and bars in an event are determined by the event's tempo markers. If there are no tempo markers in the event, it defaults to 120 beats per minute and 4/4 time for this purpose.</p>
<p>By setting a scatterer instrument's min &amp; max distance ribbon slider, you can define its spatial randomization behavior. All instances spawned by the scatterer are randomly assigned a location (for the purposes of panning) that's a random distance away from the event emitter in a random direction. The min &amp; max distance ribbon slider defines the range of possible distances. Setting a scatterer instrument's min &amp; max distance to 0 disables spatial randomization for that scatterer instrument.</p>
<p>Event reference instruments in a scatterer instrument playlist use the referenced events' 3D behaviors for the purposes spatial randomization. This means that referenced events that lack 3D behavior (due to having no built-in parameters or spatializer effects) are not affected in any way by spatial randomization.</p>
<p>Single instruments and programmer instruments in a scatterer instrument playlist are panned as if affected by a spatializer effect with a linear squared rolloff curve and a max distance of 20. Setting a scatterer instrument's min &amp; max distance to 0 disables this, and prevents that scatterer instrument from applying panning to single instruments in its playlist.</p>
<p>By setting a scatterer instrument's vol rnd and pitch rnd properties, you can specify the degree to which the pitch and volume of each instance it spawns should be randomized. The degree of pitch or volume adjustment is determined independently for each spawned instance.</p>
<p>When placed onto an <a href="glossary.html#audio-track">audio track</a> each instrument played from the playlist has its own spatializer attached that allows its location to be randomized, even when the scatterer instrument is placed in a 2D event. If, however, the scatterer instrument's playlist contains 2D <span class="dead-link" href="instrument-reference.html#event-instrument">event instruments</span class="dead-link"> then those event instrument's output will be in 2D.</p>
<p>Scatterer instruments are perfect for creating ambience, such as having crickets chirping inside a field.</p>
<p>To create a scatterer instrument, right click on an <a href="glossary.html#audio-track">audio track</a> and select "Add Scatterer Instrument".</p>
<h3 id="programmer-instruments"><a href="#programmer-instruments">5.1.5 Programmer Instruments</a></h3>
<p>Programmer instruments are a type of empty instrument that generates callbacks. These callbacks are then used to play any audio file the programmer chooses - whether it's a part of the FMOD Studio project or not.</p>
<p>Programmer instruments are perfect for games with a lot of dialogue and localization, especially when combined with <span class="dead-link" href="glossary.html#audio-table">audio tables</span class="dead-link">.</p>
<p>To create a programmer instrument, right click on an <a href="glossary.html#audio-track">audio track</a> or playlist and select "Add Programmer Instrument".</p>
<h3 id="command-instruments"><a href="#command-instruments">5.1.6 Command Instruments</a></h3>
<p>Command instruments are a type of instrument that can issue a specific command to your game's FMOD Studio system. This command is treated just as if it was issued through the FMOD API.</p>
<p><img alt="Command Instrument" src="images/command-instrument-trigger-region.png" /></p>
<p>There are a number of different commands that a command instrument can issue:</p>
<ul>
<li>Start Event: Triggering the command instrument creates and plays an instance of the target event. Instruments created in this fashion are routed through their normal routing paths, not through the tracks of the event that contains the command instrument. Instruments started by this command are given <a href="https://fmod.com/resources/documentation-api?version=2.2&amp;page=studio-api-eventinstance.html#studio_eventinstance_release"><code>Studio::EventInstance::release</code></a> commands, meaning they will automatically be destroyed and stop consuming memory once they stop.</li>
<li>Stop Event: Triggering the command instrument stops all ongoing instances of the target event other than instances created by event instruments, just as if they were stopped with <a href="https://fmod.com/resources/documentation-api?version=2.2&amp;page=studio-api-eventinstance.html#fmod_studio_stop_mode"><code>FMOD_STUDIO_STOP_ALLOWFADEOUT</code></a>. Event instances stopped by this command are not automatically given <a href="https://fmod.com/resources/documentation-api?version=2.2&amp;page=studio-api-eventinstance.html#studio_eventinstance_release"><code>Studio::EventInstance::release</code></a> commands.</li>
<li>Stop Event - Immediate: Triggering the command instrument stops all ongoing instances of the target event other than instances created by event instruments, just as if they were stopped with <a href="https://fmod.com/resources/documentation-api?version=2.2&amp;page=studio-api-eventinstance.html#fmod_studio_stop_mode"><code>FMOD_STUDIO_STOP_IMMEDIATE</code></a>. Event instances stopped by this command are not automatically given <a href="https://fmod.com/resources/documentation-api?version=2.2&amp;page=studio-api-eventinstance.html#studio_eventinstance_release"><code>Studio::EventInstance::release</code></a> commands.</li>
<li>Set Parameter: Triggering the command instrument sets the target parameter to the specified value. If the parameter is local, its value is set only in the event instance in which the command instrument is triggered.</li>
<li>Increment Parameter: Triggering the command instrument changes the target parameter by the specified amount. If the parameter is local, its value is set only in the event instance in which the command instrument is triggered.</li>
</ul>
<p>You can set the command of a command instrument in the deck.</p>
<p>Unlike other instruments, command instruments have no minimum length.</p>
<p>To create a command instrument, right click on an audio track or playlist and select "Add Command Instrument".</p>
<h3 id="snapshot-instruments"><a href="#snapshot-instruments">5.1.7 Snapshot Instruments</a></h3>
<p>Snapshot instruments are a type of <span class="dead-link" href="instrument-reference.html#event-instrument">event instruments</span class="dead-link">. When a snapshot instrument is triggered, an instance of the corresponding snapshot is started, and the properties scoped into that snapshot are set to the values it specifies.</p>
<p>Once the <a href="glossary.html#playback-position">playback position</a> leaves the instrument, the snapshot instance stops, and the properties scoped into that snapshot return to their normal values.</p>
<p>Snapshots are perfect for creating reverb zones in your game.</p>
<p>To create a snapshot instrument, drag a snapshot onto an audio track, or right-click on an audio track and select "Add Snapshot Instrument".</p>
<p>For more information and other ways of triggering snapshots, see the <a href="mixing.html#snapshots-and-the-tracks-view">snapshots and the tracks view</a> section of the <a href="mixing.html">mixing</a> chapter.</p>
<h3 id="plug-in-instruments"><a href="#plug-in-instruments">5.1.8 Plug-in Instruments</a></h3>
<p>Plug-in instruments are a type of instrument that can produce any kind of custom sound you may need.</p>
<p>For example you may need a specific type of synthesizer, a procedurally generated audio instrument, or even a tracker file playback instrument.</p>
<p>To create a plug-in instrument, right click on an event's <a href="glossary.html#audio-track">audio track</a> and select a plug-in from one of the sub-menus in "Add Plug-in Instrument".</p>
<p>By default, FMOD Studio is bundled with trial versions of AudioGaming's AudioWeather and AudioMotors plug-ins.</p>
<p>You are free to develop your own plug-in instruments. For more information on how to do this, please see the <a href="https://fmod.com/resources/documentation-api?version=2.2&amp;page=plugin-api-dsp.html">FMOD Core API documentation</a>.</p>
<h2 id="synchronous-and-asynchronous-instruments"><a href="#synchronous-and-asynchronous-instruments">5.2 Synchronous and Asynchronous Instruments</a></h2>
<p>When triggering instruments to play, you may need them to behave slightly different depending on the situation. You might need an instrument to have fixed playback times to seek within its content, or you may need an instrument to play the entirety of the selected asset when triggered, regardless of the length of the instrument.</p>
<p>FMOD Studio allows you to set instruments to either <a href="glossary.html#synchronous">synchronous</a> or <a href="glossary.html#asynchronous">asynchronous</a> mode.</p>
<p>In the sound, <a href="glossary.html#playlist">playlist</a>, or <span class="dead-link" href="glossary.html#placeholder">placeholder</span class="dead-link"> area of the instrument's <a href="glossary.html#deck">deck</a>, click on the "Async" button to toggle asynchronous playback on or off. If the button is yellow, it is on, otherwise it is off. Please note that if an instrument cannot change its synchronous state, the "Async" button will be missing.</p>
<p><img alt="Async Button" src="images/asynchronousButton.png" /></p>
<p>Please note that any instrument placed in a <a href="glossary.html#game-parameter">game parameter</a> will always be asynchronous.</p>
<p>These are the default states of each instrument in FMOD Studio:</p>
<blockquote>
<ul>
<li><strong><a href="#single-instruments">Single Instruments</a></strong>: Synchronous.</li>
<li><strong><a href="#multi-instruments">Multi Instruments</a></strong>: Synchronous.</li>
<li><strong><a href="#event-instruments">Event Instruments</a></strong>: Asynchronous, cannot be changed.</li>
<li><strong><a href="#scatterer-instruments">Scatterer Instruments</a></strong>: Asynchronous, cannot be changed.</li>
<li><strong><a href="#programmer-instruments">Programmer Instruments</a></strong>: Synchronous.</li>
<li><strong><a href="#plug-in-instruments">Plug-in Instruments</a></strong>: Special instrument. Plug-in instruments can be set to either synchronous or asynchronous depending on how they were designed.</li>
<li><strong><a href="#command-instruments">Command Instruments</a></strong>: Special instrument. Command instruments do not produce audio, but may start or stop events, or set the values of parameters. Because of this, command instruments cannot be synchronous or asynchronous.</li>
<li><strong><a href="#snapshot-instruments">Snapshot Instruments</a></strong>: Special instrument. Snapshots do not produce audio but apply effect properties to events bused into it. Because of this, snapshot instruments cannot be synchronous or asynchronous.</li>
</ul>
</blockquote>
<h3 id="synchronous-instruments"><a href="#synchronous-instruments">5.2.1 Synchronous Instruments</a></h3>
<p>In synchronous mode, an instrument's length determines how long its <span class="dead-link" href="glossary.html#asset">assets(s)</span class="dead-link"> plays for.</p>
<p>If the instrument's length is shorter than that of the asset being played, it will stop producing audio once the <span class="dead-link" href="glossary.html#playback-cursor">playback cursor</span class="dead-link"> leaves the <a href="glossary.html#trigger-region">trigger region</a>. </p>
<p>The <a href="glossary.html#loop-playback-mode">loop mode</a> of an instrument is a way of making it repeat its content. If the instrument is set to loop, it will replay its content for the length of the instrument. By default, no instruments are set to loop. Instruments created through dragging assets onto an audio track will match the length of that asset or the longest asset in that multi-selection.</p>
<p>In synchronous mode, the part of the waveform that plays is the part of the waveform that's overlapped by the playback position. This allows you to seek (or scrub) within an <a href="glossary.html#audio-file">audio file</a> instead of always starting to play from the beginning.</p>
<p>You can trim the beginning and end of an instrument to state when it should start and finish by clicking and dragging either end of the instrument to the left or right.</p>
<p><img alt="Trimming instruments" src="images/trim.png" /></p>
<p>If you use a <a href="glossary.html#transition-marker">transition marker</a> to move to the middle of an instrument set to synchronous mode, the instrument will play back audio from that point in the asset.</p>
<p>Synchronous mode is useful for transitioning around tracks in dynamic music.</p>
<p>Please note that synchronous instruments only play out the release period of an <a href="glossary.html#ahdsr-modulator">AHDSR modulator</a> if they're untriggered as a result of a <a href="glossary.html#parameter-condition">parameter condition</a>, and not if they're untriggered by the playback position leaving the trigger region.</p>
<h3 id="asynchronous-instruments"><a href="#asynchronous-instruments">5.2.2 Asynchronous Instruments</a></h3>
<p>Asynchronous mode is used for when you need assets to play in their entirety once triggered. Asynchronous instruments act like on/off switches - once the playback position has entered any part of the <a href="glossary.html#trigger-region">trigger region</a> the asset associated with that instrument will start playing from the beginning.</p>
<p>Asynchronous instruments are more useful than synchronous instruments in most situations where you don't need to seek within an audio file. They're more flexible with timeline <a href="glossary.html#transition-marker">transition markers</a> and <a href="glossary.html#transition-region">transition regions</a>, they work better with modulators, and the decoupling of timeline position and the waveform means they often work much better when using instrument <a href="glossary.html#parameter-condition">parameter conditions</a>. This is because when the parameter conditions are met, asynchronous instruments will start playing from the beginning of the waveform. By comparison, synchronous instruments will start playing the waveform from where the playback position <em>is</em> once the trigger conditions are met, which is not always desirable.</p>
<p>An asynchronous instrument <em>will</em> play out the release period of an <a href="glossary.html#ahdsr-modulator">AHDSR modulator</a> if it is untriggered by the playback position leaving the trigger region. Since this is the most common way for an instrument to be untriggered, using asynchronous instruments is very useful when considering modulators.</p>
<h2 id="looping-instruments"><a href="#looping-instruments">5.3 Looping Instruments</a></h2>
<p><a href="glossary.html#instrument">Instruments</a> may be set to loop, so that they don't stop immediately after playing a single <a href="glossary.html#audio-file">audio file</a> or <span class="dead-link" href="glossary.html#playlist-entry">playlist entry</span class="dead-link">. To make an instrument loop, select the instrument in the editor, then click on its <span class="dead-link" href="glossary.html#loop-instrument-toggle-button">loop instrument</span class="dead-link"> or <span class="dead-link" href="glossary.html#loop-playlist-toggle-button">loop playlist</span class="dead-link"> toggle button in the deck. </p>
<p>The loop playlist toggle button is only found on multi instruments, and appears in the <a href="glossary.html#deck">deck</a> when a <a href="glossary.html#multi-instrument">multi instrument</a> is selected in the <a href="glossary.html#editor">editor</a>. When toggled on, the loop playlist toggle button causes the multi instrument to select a new playlist entry to play each time it finishes playing a playlist entry.</p>
<p><img alt="Loop Playlist Toggle Button" src="images/loopPlaylistToggleButton.png" /></p>
<p>The loop instrument button is found on most types of instruments. It appears in the deck when a <a href="glossary.html#single-instrument">single instrument</a> or <a href="glossary.html#programmer-instrument">programmer instrument</a> is selected in the editor, and also when a single instrument or programmer instrument is selected in the playlist of a multi instrument or <a href="glossary.html#scatterer-instrument">scatterer instrument</a>. When toggled on, the loop instrument button causes the selected single instrument or programmer instrument to play repeatedly instead of just once. If the loop instrument button is toggled on for only some of the entries in a playlist, only those entries will loop when they are selected for playback.</p>
<p><img alt="Loop Instrument Toggle Button" src="images/loopInstrumentToggleButton.png" /></p>
<p>Toggling on either kind of loop toggle button causes the adjacent play count number box to become active and editable.</p>
<p>The looping behavior of an instrument also depends on the instrument's <span class="dead-link" href="glossary.html#play-count">play count</span class="dead-link"> properties, whether the instrument is <a href="glossary.html#synchronous">synchronous</a> or <a href="glossary.html#asynchronous">asynchronous</a>, and whether it is untriggered while playing.</p>
<h3 id="play-count"><a href="#play-count">5.3.1 Play Count</a></h3>
<p>Play count is a property of instruments, playlists other than action sheets, and playlist entries. The exact effect of a play count property depends on whether it is associated with an instrument or playlist entry or with a playlist.</p>
<p>In the case of an instrument or playlist entry, play count is the maximum number of times the instrument or playlist entry can play when triggered or selected.</p>
<p>In the case of playlists, play count is the maximum number of times the playlist may select a new entry when the multi instrument is triggered.</p>
<p>If a loop instrument toggle button or loop playlist toggle button is toggled off, its associated play count number box is grayed out and inactive. In this state, the effective play count of the instrument, playlist entry or playlist is always one.</p>
<h3 id="synchronous-and-asynchronous-looping-instruments"><a href="#synchronous-and-asynchronous-looping-instruments">5.3.2 Synchronous and Asynchronous Looping Instruments</a></h3>
<p>Synchronous single instruments and synchronous programmer instruments display multiple copies of their associated waveforms on their trigger regions. The number of waveform graphics displayed is equal to the number of copies that fit on the trigger region, up to a maximum of the instrument's play count property.</p>
<p>As mentioned in the <a href="working-with-instruments.html#synchronous-and-asynchronous-instruments">Synchronous and Asynchronous Instruments</a> section of this chapter, synchronous instruments immediately fall silent and stop producing output when no longer overlapped by the <span class="dead-link" href="glossary.html#timeline-parameter">timeline</span class="dead-link"> <a href="glossary.html#playback-position">playback position</a>. Synchronous instruments that are no longer overlapped by the playback position therefore fall silent immediately, even if they have not finished playing the number of times specified by their loop count properties.</p>
<p>Note that a <a href="glossary.html#loop-region">loop region</a>, <a href="glossary.html#transition-marker">transition marker</a>, or <a href="glossary.html#transition-region">transition region</a> that moves the playback position from one part of a synchronous instrument's trigger region to another untriggers and retriggers that instrument in the process.</p>
<p>When untriggered, asynchronous looping instruments whose <a href="glossary.html#cut-behavior">cut behavior</a> is "cut immediately" immediately stop producing output. Asynchronous looping instruments whose cut behavior is "Play to end" instead play out to completion as dictated by their play count properties. If the play count of a single instrument, a programmer instrument or the playlist of a multi instrument is infinite when untriggered, that play count will behave if it was 1, instead of infinite, for this purpose.</p>
<h3 id="instrument-properties-and-untrigger-behavior"><a href="#instrument-properties-and-untrigger-behavior">5.3.3 Instrument Properties and Untrigger Behavior</a></h3>
<p>The combination of looping behavior, play count, cut behavior, and synchronousity/asynchronousity determines how an instrument behaves when untriggered, as summarized in the following table.</p>
<table>
<thead>
<tr>
<th>Looping</th>
<th>Play count</th>
<th>Sync/Async</th>
<th>Cut</th>
<th>Behavior when untriggered</th>
</tr>
</thead>
<tbody>
<tr>
<td>No</td>
<td>N/A</td>
<td>Sync</td>
<td>N/A</td>
<td>Stops immediately.</td>
</tr>
<tr>
<td>No</td>
<td>N/A</td>
<td>Async</td>
<td>No</td>
<td>No special behavior.</td>
</tr>
<tr>
<td>No</td>
<td>N/A</td>
<td>Async</td>
<td>Yes</td>
<td>Stops immediately.</td>
</tr>
<tr>
<td>Yes</td>
<td>&#8734;</td>
<td>Sync</td>
<td>N/A</td>
<td>Stops immediately.</td>
</tr>
<tr>
<td>Yes</td>
<td>&#8734;</td>
<td>Async</td>
<td>No</td>
<td>Plays to end of current entry, then stops.</td>
</tr>
<tr>
<td>Yes</td>
<td>&#8734;</td>
<td>Async</td>
<td>Yes</td>
<td>Stops immediately.</td>
</tr>
<tr>
<td>Yes</td>
<td>1</td>
<td>Sync</td>
<td>N/A</td>
<td>Stops immediately.</td>
</tr>
<tr>
<td>Yes</td>
<td>1</td>
<td>Async</td>
<td>No</td>
<td>No special behavior.</td>
</tr>
<tr>
<td>Yes</td>
<td>1</td>
<td>Async</td>
<td>Yes</td>
<td>Stops immediately.</td>
</tr>
<tr>
<td>Yes</td>
<td>n</td>
<td>Sync</td>
<td>N/A</td>
<td>Stops immediately.</td>
</tr>
<tr>
<td>Yes</td>
<td>n</td>
<td>Async</td>
<td>No</td>
<td>No special behavior.</td>
</tr>
<tr>
<td>Yes</td>
<td>n</td>
<td>Async</td>
<td>Yes</td>
<td>Stops immediately.</td>
</tr>
</tbody>
</table>
<h2 id="fade-in-and-fade-out"><a href="#fade-in-and-fade-out">5.4 Fade In and Fade Out</a></h2>
<p>Each instrument placed on a track has a fade in and a fade out feature. This allows for smoothly starting or finishing an instrument's sound but behaves differently from an <a href="glossary.html#ahdsr-modulator">AHDSR modulator</a>.</p>
<p>To add a fade in or a fade out to an instrument, hover your mouse over the top left or right corner of the instrument. Once the mouse cursor changes to a curved arrow, click and drag to the desired position.</p>
<p><img alt="Fade In" src="images/fadeIn.png" /></p>
<p>You can click and drag on the <span class="dead-link" href="glossary.html#shape-handle">shape handle</span class="dead-link"> to adjust the speed of the fading.</p>
<p>The position of the <a href="glossary.html#playback-position">playback position</a> on the fade curves determines the volume of the instrument at that time. If the playback position moves to a part of the instrument where a fade-in or fade-out appears, then the volume of the instrument will be the level shown by the fade in or fade out curves. This is the same behavior as if you were to use <a href="glossary.html#automation">automation</a> on the instruments volume.</p>
<p>By comparison, an <a href="glossary.html#ahdsr-modulator">AHDSR modulator</a> will only be applied when an instrument is triggered and released.</p>
<p>Instruments that have both a fade in or fade out and an AHDSR modulator will have both applied.</p>
<h2 id="cut-and-modulation"><a href="#cut-and-modulation">5.5 Cut and Modulation</a></h2>
<p>When an instrument on a parameter sheet is set to <a href="glossary.html#asynchronous">asynchronous</a> mode, you can also toggle its <a href="glossary.html#cut-behavior">cut</a> mode on or off. Using this in conjunction with <a href="glossary.html#ahdsr-modulator">AHDSR modulators</a> can affect how an instrument finishes playing once the <a href="glossary.html#playback-position">playback position</a> has left the <a href="glossary.html#trigger-region">trigger region</a>.</p>
<h3 id="cut"><a href="#cut">5.5.1 Cut</a></h3>
<p>Cut allows an asynchronous instrument to become untriggered once the playback position has left its <a href="glossary.html#trigger-region">trigger region</a>. Unlike with synchronous instruments, when an asynchronous instrument becomes untriggered in this way it can then play out using an <a href="glossary.html#ahdsr-modulator">AHDSR Modulator</a>.</p>
<p>You can enable cut mode by clicking on the "Cut" button to the right of the "Async" button. Cut is not enabled by default. When cut mode is not enabled, the instrument will play its asset in its entirety once triggered.</p>
<p>If cut mode is enabled on the instrument, then the AHDSR modulation will completely override this behavior no matter which property it is applied to. Once the playback position leaves the trigger region, the instrument becomes untriggered and the release will be applied.</p>
<h3 id="ahdsr-modulation"><a href="#ahdsr-modulation">5.5.2 AHDSR Modulation</a></h3>
<p><span class="dead-link" href="glossary.html#ahdsr-modulation">AHDSR (Attack, Hold, Sustain, Decay, Release) modulation</span class="dead-link"> is a type of envelope that gives you control over how a property of an event or instrument changes when the event or instrument starts, what its value is at its peak, and how it changes when the event or instrument is stopped or untriggered. For more information on how to use AHDSR modulation, please see the <a href="authoring-events.html#modulation">modulation</a> section of the <a href="authoring-events.html">authoring events</a> chapter.</p>
<p>On a synchronous instrument the AHDSR modulation will not apply the release when untriggered by the playback position leaving the trigger region. This is due to the fact that a synchronous instrument will stop playing once the playback position has left the trigger region but that is also the exact same time the release is applied. Release will only be applied on a synchronous instrument if the instrument's <a href="glossary.html#parameter-condition">parameter conditions</a> stop being true.</p>
<p>On an asynchronous instrument the AHDSR modulation will be applied in its entirety. When the playback position leaves the trigger region, the instrument will become untriggered and apply the release.</p>
<p>An instrument inside the playlist of another instrument is never directly untriggered, so an AHDSR modulator on a playlist entry of a multi instrument never plays out its release period.</p>
<h2 id="delay-and-quantization"><a href="#delay-and-quantization">5.6 Delay And Quantization</a></h2>
<p>FMOD Studio allows you to set an <a href="glossary.html#instrument">instrument</a> on a <a href="glossary.html#parameter-sheet">parameter sheet</a> to delay playing back until a certain time, until a certain amount of time has elapsed, or until a certain musical beat. This is useful if you need instruments to be played back only at or after certain times. For example, stingers in your dynamic background music that must keep with the tempo of the song, or random fire crackling for a camp fire sound effect.</p>
<h3 id="time"><a href="#time">5.6.1 Time</a></h3>
<p>The time property of an instrument's trigger behavior allows you to define a period of time to be waited before playing that <a href="glossary.html#instrument">instrument</a>. While an instrument is triggered the instant the <a href="glossary.html#playback-position">playback position</a> makes contact with its associated trigger region, it does not actually have to start playing the instrument at this point.</p>
<p>The delay &amp; quantization section of the <a href="glossary.html#trigger">trigger behavior</a> drawer has a "Time" button that, when enabled, displays the "Delay Interval" property that works via a ribbon slider. </p>
<p>The slider defines the minimum and maximum time values in milliseconds or seconds an instrument's <span class="dead-link" href="glossary.html#condition">conditions</span class="dead-link"> must continue to be met before it will trigger. If the instrument's trigger conditions are unmet before the minimum amount of time specified, it will not have a chance to trigger.</p>
<p>If both the min and max values are the same then a fixed delay is always applied to that instrument every time it is activated. If the min and max values are different then they create a window in time. FMOD Studio counts at least the minimum time value and no more than the maximum time value, but between those two it randomly selects a period of delay to apply to the instrument.</p>
<p><img alt="Delay and Quantization - Time" src="images/timeButton.png" /></p>
<p>You can define the values by either dragging the ends of the ribbon slider to the desired values, or double clicking on the displayed numbers to directly input exact values.</p>
<h3 id="tempo"><a href="#tempo">5.6.2 Tempo</a></h3>
<p>The delay &amp; quantization section of the trigger behavior drawer has a "Tempo" button that, when enabled, displays the "Quantization Interval" behavior for the instrument.</p>
<p><img alt="Delay and Quantization - Tempo" src="images/tempoButton.png" /></p>
<p>When an event includes a <a href="glossary.html#tempo-marker">tempo marker</a>, FMOD Studio applies tempo tracking as well as counting regular time. If an event does not include any tempo markers, it instead defaults to 120 beats per minute and 4/4 time. Tempo quantization allows instruments to be delayed slightly so that they trigger in time with the defined tempo and as such sound more "musical".</p>
<p>You can switch to view <span class="dead-link" href="glossary.html#time-beats-display">beats</span class="dead-link"> in the timeline and the <span class="dead-link" href="glossary.html#time-beats-display">time indicator</span class="dead-link"> by clicking on the "Beat" button on the time indicator section.</p>
<p>Once a tempo marker is added to an event, the ruler lines change to match the tempo measures in bar and beat format when the timeline is set to display beats. Instrument trigger regions can be moved to align with these measures, but the quantization property ensures they trigger in sync with the musical measures.</p>
<p>The quantization property can be set to either bar values of 1 or 2, or beat values of minim, crotchet, dotted crotchet or quaver measures.</p>
<p><img alt="Quantization" src="images/transitionRegionDeckPanelWithQuantization.png" /></p>
<h2 id="trigger-conditions"><a href="#trigger-conditions">5.7 Trigger Conditions</a></h2>
<p>It is possible to set certain <span class="dead-link" href="glossary.html#trigger-behavior">trigger conditions</span class="dead-link"> for instruments on <a href="glossary.html#parameter-sheet">parameter sheets</a>.</p>
<p>By default, an instrument on a parameter sheet is triggered when the <a href="glossary.html#playback-position">playback position</a> overlaps the instrument's trigger region. You can add further conditions in the instrument's <a href="glossary.html#trigger">trigger behavior</a> drawer. Click on the disclosure triangle to the left of the instrument's panel in the <a href="glossary.html#deck">deck</a> to view these settings.</p>
<p>To add a parameter condition to an instrument, click the "Add Condition" button at the bottom of the conditions list and select the <a href="glossary.html#game-parameter">game parameter</a> you wish the instrument to be triggered by. This automatically adds the game parameter to the event if it is not already present. You can use each game parameter no more than once in each instrument's conditions list.</p>
<p>Only when <em>all</em> the conditions in the conditions list have been met and the playback position is withing the instruments <a href="glossary.html#trigger-region">trigger region</a> will the instrument start playing. In the same regard, the instrument will become untriggered when <em>any</em> of the conditions stop being met.</p>
<p>If there are any <a href="glossary.html#quantization">delay and quantization</a> settings in place, then the instrument won't start playing unless all conditions are met at the exact point the quantization point is reached. A quantized instrument will become untriggered immediately when a condition is not met anymore.</p>
<p>You can further customize the trigger conditions by enabling the <span class="dead-link" href="glossary.html#probability">randomization</span class="dead-link"> button (labeled with a dice). Changing the "Probability" dial in the probability conditions will give a percentage value for <em>if</em> the instrument will trigger. These probability calculations are called at the time that all conditions are met and won't be recalculated until the conditions have been unmet then remet.</p></div>

<p class="manual-footer">FMOD Studio User Manual 2.02.06 (2022-03-15). &copy; 2022 Firelight Technologies Pty Ltd.</p>
</body>
</html>

</div>
